---
layout: post
title: Solr 伸缩性和分布式介绍
tags: 
- solr
- lucene
- 搜索引擎
- 分布式
categories:
- code
- solr 
UUID: 201211252330
date: 2012-11-25
---

###分布式解决的问题：
当搜索执行的时间太长，或者索引太大，此时要考虑使用 solr 的分布式了。solr 分布式中，将一个大的索引分成几个小的索引（shards，分片），放在不同的机器上。当执行搜索时，将查询划分成多个子查询，在不同机器的索引库中执行搜索，然后将查询结果合并。这个拆分查询和合并结果的过程对用户是透明了。

###索引复制解决的问题：
<ol>
<li>当单机的查询性能不济时，可以考虑复制出多台索引来分别承担压力，如做一个全国性的搜索，可以将索引库复制30来个，每个省分一个，每个省请求过来时，分别在自己省所分配的索引库中进行搜索
</li>
<li>
将索引的读写分离，也可以很好的提供性能。由一个负责写索引，然后同步到其他索引，其他索引只读，仅提供搜索。
</li>
<li>备份索引，详见利用 Replication Handler 备份索引</li>
</ol>

参考：http://wiki.apache.org/solr/DistributedSearch


