<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="content-language" content="en" />
    <meta name="robots" content="all,follow" />
    <title>程序员的利器-Linux常用命令 - 熊猫人Blog</title>
    <meta name="author" lang="en" content="All: Demi-Panda Lab [demi-panda.com]; e-mail: blog.pandam@gmail.com" />
    <meta name="copyright" lang="en" content="@2012 Demi_Panda Lab, All Rights Reserved!" />
    <meta name="description" content="熊猫人Blog主题：感想,敢拼,敢赢..." />
    <link rel="shortcut icon" href="/media/demi/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" media="screen,projection" type="text/css" href="/media/demi/css/style.css" />
    <link rel="stylesheet" media="screen,projection" type="text/css" href="/media/demi/css/main.css" />
    <link rel="stylesheet" media="screen,projection" type="text/css" href="/media/demi/css/reset.css" />
    <!--
    <link rel="stylesheet" media="screen,projection" type="text/css" href="/media/demi/css/embed.css" />
    -->
    <link rel="stylesheet" media="screen,projection" type="text/css" href="/media/demi/css/superfish.css" />
    <link rel="stylesheet" media="screen,projection" type="text/css" href="/media/demi/css/prettify.css" />
    <script src="/media/js/jquery-1.6.1.min.js" type="text/javascript"></script>
    <script src="/media/js/jquery.jcarousel.min.js" type="text/javascript"></script>
    <script src="/media/js/jquery.tagcloud.js" type="text/javascript"></script>
    <script src="/media/js/jquery.demi.slider.js" type="text/javascript"></script>

    <link rel="alternate" type="application/rss+xml" title="熊猫人Blog" href="/rss.xml" />
    <script type="text/javascript" src="http://static.duoshuo.com/js/common.js"></script>
    <script src="/media/js/prettify.js" type="text/javascript"></script>

    <script type="text/javascript">
      var duoshuoQuery = {short_name:"demi-panda"};
    </script>
    <script type="text/javascript" src="http://static.duoshuo.com/embed.js"></script>

      <script type="text/javascript">
      $(window).load(function(){
          $("pre").addClass("prettyprint");
          prettyPrint();
          })
        </script>

    <script language="javascript">
      $.fn.tagcloud.defaults = {
        size: {start: 0.9, end: 2, unit: 'em'},
        color: {start: '#e77471', end: '#f62817'}
      };

      $(function () {
        $('#tagcloud a').tagcloud();
      });
    </script>  
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-36197302-1']);
      _gaq.push(['_trackPageview']);

      (function() {
       var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
       ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
       var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
       })();

     </script>
   </head>


   <body >

     <div id="wrapper">
       <!-- /header -->
<div id="header">

  <div id="logo">
    <h1 id="logo">
      <a href="/" title="[Go to homepage]"><img src="/media/demi/img/demi-logo-2.png" alt="" /></a>
    </h1> 
  </div><!-- /logo -->

  <div class="cleared"></div>
</div>
<!-- /header -->

 
       <!-- Tray -->
<div id="tray">
  <ul>
    <li ><a href="/">Home</a></li>
    <li ><a href="/archives/">文章列表</a></li>
    <li ><a href="/categories/">分类目录</a></li>
    <li ><a href="/life/">生活范儿</a></li>
    <li ><a href="/tags/">标签</a></li>
    <li ><a href="/about/">关于我</a></li>
  </ul>
  <hr class="noscreen" />                    
</div> 
<!-- /tray -->


       <div id="main">
         <div id="content">
  <div class="post type-post status-publish format-standard hentry category-1 post" >
    <div class="posttop">
      <h1 class="posttitle">
        程序员的利器-Linux常用命令
      </h1>
    </div>
    <div class="meta">
      Posted 
      <time class="text" datetime="2012-11-19">2012-11-19</time>&nbsp; |
      
      分类:
      
      
      <a href="/categories/#Linux" class="text" title="Linux" rel="category tag">Linux</a>&nbsp;
      
      <a href="/categories/#Shell" class="text" title="Shell" rel="category tag">Shell</a>&nbsp;
      
      
      &nbsp;&nbsp;

      <!-- Place this tag where you want the +1 button to render. -->
      <div class="g-plusone" data-size="medium" data-annotation="inline" data-width="200"></div>

      <!-- Place this tag after the last +1 button tag. -->
      <script type="text/javascript">
        window.___gcfg = {lang: 'zh-CN'};

(function() {
 var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
 po.src = 'https://apis.google.com/js/plusone.js';
 var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
 })();
</script>
      
      <div class="tag">
        
        <a href="/tags/#Linux" class="text" title="Linux" rel="category tag">Linux</a>&nbsp;
        
        <a href="/tags/#Shell" class="text" title="Shell" rel="category tag">Shell</a>&nbsp;
        
        <a href="/tags/#研发实践" class="text" title="研发实践" rel="category tag">研发实践</a>&nbsp;
        
        <a href="/tags/#编程语言" class="text" title="编程语言" rel="category tag">编程语言</a>&nbsp;
        
      </div>
      
    </div>

    <div class="postcontent-entry">
      <div class="cleared"></div>
      <p>每个程序员，在职业生涯的某个时刻，总会发现自己需要知道一些Linux方面的知识。我并不是说你应该成为一个Linux专家，我的意思是，当面对Linux命令行任务时，你应该能很熟练的完成。事实上，学会了下面8个命令，我基本上能完成任何需要完成的任务。</p>

<p><em>注意:</em>
下面的每个命令都有十分丰富的文档说明。这篇文章并不是来详尽的展示每个命令的各种功用的。我在这里要讲的是这几个最常用的命令的最常见用法。如果你对linux命令并不是很了解，你想找一些这方面的资料学习，那这篇文章将会给你一个基本的指导。</p>

<p>在这里我拿一个search.log日志文件来说明：</p>

<pre style="font-size:10px; width:560px">
Nov 15, 2012 12:00:00 AM org.apache.solr.core.SolrCore execute
INFO: [deal] webapp=/solr-web-deal path=/analysis/field params={analysis.showmatch=false&analysis.query=泡芙&analysis.fieldname=title&analysis.fieldvalue=text} QTime=0 
Nov 15, 2012 12:00:01 AM org.apache.solr.core.SolrCore execute
INFO: [deal] webapp=/solr-web-deal path=/select params={fl=id,score,price&start=65&q=(city_id:2+OR+city_id:0)+AND+(title:(火锅)^7.0)}&rows=5&version=2} hits=2527 QTime=1 
Nov 15, 2012 12:00:01 AM org.apache.solr.core.SolrCore execute
INFO: [deal] webapp=/solr-web-deal path=/select params={fl=id,score,price&start=75&q=(city_id:1+OR+city_id:0)+AND+(title:(男装)^7.0)}&rows=15} hits=673 QTime=25
</pre>


<h3>cat</h3>

<p><em>语法</em></p>

<pre id="bash">
cat [OPTION]... [FILE]...
</pre>


<p>cat – 连接文件，并输出结果</p>

<p>cat 命令非常的简单，你从下面的例子可以看到。</p>

<pre id="bash" style="font-size:10px; width:560px">
$ cat search.log
Nov 15, 2012 12:00:00 AM org.apache.solr.core.SolrCore execute
INFO: [deal] webapp=/solr-web-deal path=/analysis/field params={analysis.showmatch=false&analysis.query=泡芙&analysis.fieldname=title&analysis.fieldvalue=text} QTime=0 
Nov 15, 2012 12:00:01 AM org.apache.solr.core.SolrCore execute
INFO: [deal] webapp=/solr-web-deal path=/select params={fl=id,score,price&start=65&q=(city_id:2+OR+city_id:0)+AND+(title:(火锅)^7.0)}&rows=5&version=2} hits=2527 QTime=1 
Nov 15, 2012 12:00:01 AM org.apache.solr.core.SolrCore execute
INFO: [deal] webapp=/solr-web-deal path=/select params={fl=id,score,price&start=75&q=(city_id:1+OR+city_id:0)+AND+(title:(男装)^7.0)}&rows=15} hits=673 QTime=25
</pre>


<p>就像它的说明描述的，你可以用它来连接多个文件。</p>

<pre id="bash">
$ cat search.*
#或者
$ cat search.log search.log-20121123
</pre>


<h3>sort</h3>

<pre>
sort – 文件里的文字按行排序
</pre>


<p>此时sort命令显然是你最佳的选择。</p>

<pre id="bash" style="font-size:10px; width:560px">
$ cat search.* | sort
INFO: [deal] webapp=/solr-web-deal path=/analysis/field params={analysis.showmatch=false&analysis.query=泡芙&analysis.fieldname=title&analysis.fieldvalue=text} QTime=0 
INFO: [deal] webapp=/solr-web-deal path=/select params={fl=id,score,price&start=65&q=(city_id:2+OR+city_id:0)+AND+(title:(火锅)^7.0)}&rows=5&version=2} hits=2527 QTime=1 
INFO: [deal] webapp=/solr-web-deal path=/select params={fl=id,score,price&start=75&q=(city_id:1+OR+city_id:0)+AND+(title:(男装)^7.0)}&rows=15} hits=673 QTime=25
Nov 15, 2012 12:00:00 AM org.apache.solr.core.SolrCore execute
Nov 15, 2012 12:00:01 AM org.apache.solr.core.SolrCore execute
Nov 15, 2012 12:00:01 AM org.apache.solr.core.SolrCore execute
</pre>


<p>就像上面例子显示的，文件里的数据已经经过排序。对于一些小文件，你可以读取整个文件来处理它们，然而，真正的log文件通常有大量的内容，你不能不考虑这个情况。此时你应该考虑过滤出某些内容，把cat、sort后的内容通过管道传递给过滤工具。</p>

<h3>grep</h3>

<pre>
grep, egrep, fgrep – 打印出匹配条件的文字行
</pre>


<p>假设我们只对city_id:1的搜索日志感兴趣。使用grep，我们能限制只输出含有city_id:1字符的日志。</p>

<pre id="bash" style="font-size:10px; width:560px">
$ cat order.* | sort | grep -r "city_id:1"
INFO: [deal] webapp=/solr-web-deal path=/select params={fl=id,score,price&start=75&q=(city_id:1+OR+city_id:0)+AND+(title:(男装)^7.0)}&rows=15} hits=673 QTime=25
</pre>


<p>grep 可以直接使用正则表达式</p>

<h3>cut</h3>

<pre>
cut – 删除文件中字符行上的某些区域
</pre>


<p>又要使用grep，我们用grep过滤出我们想要的行。有了我们想要的行信息，我们就可以把它们切成小段，删除不需要的部分数据。</p>

<pre id="bash" style="font-size:10px; width:560px">
$ cat order.* | sort | grep -r "city_id:1"
INFO: [deal] webapp=/solr-web-deal path=/select params={fl=id,score,price&start=75&q=(city_id:1+OR+city_id:0)+AND+(title:(男装)^7.0)}&rows=15} hits=673 QTime=25
$ cat order.* | sort | grep -r "city_id:1" |cut -d"," -f6,8
hits=673 QTime=25
</pre>


<p>现在，我们把数据缩减为我们计算想要的形式，把这些数据粘贴到Excel里立刻就能得到结果了。</p>

<p>cut是用来消减信息、简化任务的，但对于输出内容，我们通常会有更复杂的形式。假设我们还需要知道订单的ID，这样可以用来关联相关的其他信息。我们用cut可以获得ID信息，但我们希望把ID放到行的最后，用单引号包上。</p>

<h3>sed</h3>

<pre>
sed – 一个流编辑器。它是用来在输入流上执行基本的文本变换。
</pre>


<p>下面的例子展示了如何用sed命令变换我们的文件行.</p>

<pre id="bash">
find -name "*.java" | xargs sed -i "s/SOAPHandler/SOAPAction/g"
</pre>


<h3>tail</h3>

<pre>
tail [  -f ] [  -c Number |  -n Number |  -m Number |  -b Number |  -k Number ] [ File ]
</pre>


<p>命令从指定点开始将 File 参数指定的文件写到标准输出。如果没有指定文件，则会使用标准输入。 Number 变量指定将多少单元写入标准输出。 Number 变量的值可以是正的或负的整数。如果值的前面有 +（加号），从文件开头指定的单元数开始将文件写到标准输出。如果值的前面有 -（减号），则从文件末尾指定的单元数开始将文件写到标准输出。如果值前面没有 +（加号）或 -（减号），那么从文件末尾指定的单元号开始读取文件。</p>

<p>要显示 notes 文件的最后十行，输入：</p>

<pre id="bash">
$ tail notes
</pre>


<p>要指定从 notes 文件末尾开始读取的行数，输入：</p>

<pre id="bash">
$ tail  -n 20 notes
</pre>


<p>要从第 200 字节开始，每次显示一页 notes 文件，输入：</p>

<pre id="bash">
$ tail  -c +200 notes | pg
</pre>


<p>要跟踪文件的增长，输入：</p>

<pre id="bash">
$ tail  -f accounts
</pre>


<h3>uniq</h3>

<pre>
uniq – 删除重复的行
</pre>


<h3>find</h3>

<p>find – 在文件目录中搜索文件
<em>语法</em></p>

<pre>
find [-H] [-L] [-P] [-Olevel] [-D help|tree|search|stat|rates|opt|exec] [path...] [expression]
</pre>


<p><em>示例：</em>
查找当前目录及子目录下的文件名,并重命名
方案1:
使用find命令查找，然后使用sed替换</p>

<pre id="bash">
find . -name "*.java" | sed -e 's/\.java/\.class/g'
</pre>


<p>方案2：
使用find命令查找，然后使用rename重命名</p>

<pre id="bash">
find . -name "*.class" | rename 's/\.class/\.java/g'
</pre>


<p>方案3：
使用bash，使用for循环mv重命名</p>

<pre id="bash">
#!/bin/bash 
dn=`dirname $0`
dn=`cd $dn;pwd`
#for fn in `find $dn -type f |grep 'java$'` 
for fn in `find $dn -name '*.java'` 
do
if [ -f $fn ]; then
newfn=${fn/%java/class}
echo $newfn
mv $fn $newfn
fi
down
</pre>


<h3>less</h3>

<pre>
less – 在文件里向前或向后移动
</pre>


<p>在 less 命令，使用“/”来执行向前搜索，使用“？”命令执行向后搜索。搜索条件是一个正则表达式。</p>

    </div><!-- /postcontent -->

    <div class="v-pagination">
      
      <a class="prev" href="/2012/11/19/jenkins-PermGen-Space" title="前一篇：Jenkins PermGen space 问题">&laquo; Jenkins PermGen space 问题</a>
      
      <!--
      <a class="center" href="/archives/">文章列表</a>
      -->
      
      <a class="next" href="/2012/11/20/linux-ffmpeg" title="后一篇：Linux下的命令行下转换媒体格式工具FFMPEG详解">Linux下的命令行下转换媒体格式工具FFMPEG详解 &raquo;</a>
      
    </div>
    <!-- JiaThis Button BEGIN -->
    <div class="jiathis_style" style="margin: 10px 10px 20px 0;padding: 10px 0 0;">
      <span class="jiathis_txt">分享到：</span>
      <a class="jiathis_button_tools_1"></a>
      <a class="jiathis_button_tools_2"></a>
      <a class="jiathis_button_tools_3"></a>
      <a class="jiathis_button_tools_4"></a>
      <a href="http://www.jiathis.com/share?uid=1706288" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank">更多</a>
      <a class="jiathis_counter_style"></a>
    </div>
    <script type="text/javascript">
      var jiathis_config = {data_track_clickback:true};
    </script>
    <script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1343704647947962" charset="utf-8"></script>
    <!-- JiaThis Button END -->
  </div><!-- /post -->
  <div class="cleared"></div>

  <div class="archivesbox">
    <div class="comments">
      <!-- Duoshuo Comment Begin -->
      <div class="ds-thread" data-thread-id="201211190944" data-thread-key="201211190944" data-title="程序员的利器-Linux常用命令" data-url="/2012/11/19/linux-command"
        data-order="desc" data-form-positon="top"></div>
      <!-- Duoshuo Comment End -->
    </div>
  </div>
</div><!-- /content -->

<div id="sidebar">
  <ul>
    <li id="tag_cloud" class="boxed widget widget_tag_cloud">
    <h3 class="widgettitle">标签</h3>
    
      <a href='/tags/#Shell' class='tag-link-9' title='Shell' style='font-size: 15pt;'>Shell</a>
      
      <a href='/tags/#Jekyll' class='tag-link-1' title='Jekyll' style='font-size: 16pt;'>Jekyll</a>
      
      <a href='/tags/#CI' class='tag-link-1' title='CI' style='font-size: 12pt;'>CI</a>
      
      <a href='/tags/#Annotation' class='tag-link-1' title='Annotation' style='font-size: 20pt;'>Annotation</a>
      
      <a href='/tags/#Java' class='tag-link-6' title='Java' style='font-size: 14pt;'>Java</a>
      
      <a href='/tags/#prettify' class='tag-link-1' title='prettify' style='font-size: 18pt;'>prettify</a>
      
      <a href='/tags/#svn' class='tag-link-1' title='svn' style='font-size: 13pt;'>svn</a>
      
      <a href='/tags/#version' class='tag-link-1' title='version' style='font-size: 17pt;'>version</a>
      
      <a href='/tags/#HTTP' class='tag-link-1' title='HTTP' style='font-size: 14pt;'>HTTP</a>
      
      <a href='/tags/#OS' class='tag-link-1' title='OS' style='font-size: 12pt;'>OS</a>
      
      <a href='/tags/#Markdown' class='tag-link-1' title='Markdown' style='font-size: 18pt;'>Markdown</a>
      
      <a href='/tags/#Life' class='tag-link-1' title='Life' style='font-size: 14pt;'>Life</a>
      
      <a href='/tags/#Linux' class='tag-link-11' title='Linux' style='font-size: 15pt;'>Linux</a>
      
      <a href='/tags/#SSH' class='tag-link-2' title='SSH' style='font-size: 13pt;'>SSH</a>
      
      <a href='/tags/#Jenkins' class='tag-link-2' title='Jenkins' style='font-size: 17pt;'>Jenkins</a>
      
      <a href='/tags/#研发实践' class='tag-link-2' title='研发实践' style='font-size: 22pt;'>研发实践</a>
      
      <a href='/tags/#Hudson' class='tag-link-1' title='Hudson' style='font-size: 16pt;'>Hudson</a>
      
      <a href='/tags/#Python' class='tag-link-1' title='Python' style='font-size: 16pt;'>Python</a>
      
      <a href='/tags/#Ubuntu' class='tag-link-2' title='Ubuntu' style='font-size: 16pt;'>Ubuntu</a>
      
      <a href='/tags/#安全' class='tag-link-1' title='安全' style='font-size: 16pt;'>安全</a>
      
      <a href='/tags/#Github' class='tag-link-2' title='Github' style='font-size: 16pt;'>Github</a>
      
      <a href='/tags/#编程实践' class='tag-link-1' title='编程实践' style='font-size: 22pt;'>编程实践</a>
      
      <a href='/tags/#编程语言' class='tag-link-1' title='编程语言' style='font-size: 22pt;'>编程语言</a>
      
      <a href='/tags/#Mavne' class='tag-link-1' title='Mavne' style='font-size: 15pt;'>Mavne</a>
      
      <a href='/tags/#梦想' class='tag-link-1' title='梦想' style='font-size: 16pt;'>梦想</a>
      
      <a href='/tags/#HTML' class='tag-link-1' title='HTML' style='font-size: 14pt;'>HTML</a>
      
    </li>
    <li id="recent-posts-2" class="boxed widget widget_recent_entries">		
    <h3 class="widgettitle">近期文章</h3>	
    <ul>
       
      <li>
      <a href="/2012/11/22/version-manager" title="版本管理策略">版本管理策略</a>
      </li>
       
      <li>
      <a href="/2012/11/22/linux-find-practice" title="Linux find命令实践">Linux find命令实践</a>
      </li>
       
      <li>
      <a href="/2012/11/22/bash-profile" title=".bash_profile .bashrc profile 文件的作用的执行顺序">.bash_profile .bashrc profile 文件的作用的执行顺序</a>
      </li>
       
      <li>
      <a href="/2012/11/21/ssh-remote" title="SSH登陆响应慢的问题">SSH登陆响应慢的问题</a>
      </li>
       
      <li>
      <a href="/2012/11/21/http-status" title="HTTP状态码">HTTP状态码</a>
      </li>
       
      <li>
      <a href="/2012/11/20/ubunut-virtualbox" title="Ubuntu 中VirtualBox 使用U盾">Ubuntu 中VirtualBox 使用U盾</a>
      </li>
       
      <li>
      <a href="/2012/11/20/linux-ffmpeg" title="Linux下的命令行下转换媒体格式工具FFMPEG详解">Linux下的命令行下转换媒体格式工具FFMPEG详解</a>
      </li>
       
      <li>
      <a href="/2012/11/19/linux-command" title="程序员的利器-Linux常用命令">程序员的利器-Linux常用命令</a>
      </li>
       
      <li>
      <a href="/2012/11/19/jenkins-PermGen-Space" title="Jenkins PermGen space 问题">Jenkins PermGen space 问题</a>
      </li>
       
      <li>
      <a href="/2012/11/18/easybcd-win7-ubuntu" title="Win7 + Ubuntu12.04 + EasyDBC安装">Win7 + Ubuntu12.04 + EasyDBC安装</a>
      </li>
      
    </ul>
    </li>
    <li id="ds-top-threads" class="boxed widget ds-widget-top-threads">
    <h3 class="widgettitle">热评文章</h3>
    <ul class="ds-top-threads" data-num-items="5" data-range="weekly"></ul>
    </li>
    <li id="ds-recent-comments-3" class="boxed widget ds-widget-recent-comments">
    <h3 class="widgettitle">近期评论</h3>
    <ul class="ds-recent-comments" data-num-items="10" data-show-avatars="1" data-show-time="1" data-show-title="0" data-show-admin="0" data-avatar-size="32" data-excerpt-length="70">
    </ul>
    </li>
    <script>
      if (typeof DUOSHUO !== 'undefined')
      DUOSHUO.RecentCommentsWidget && DUOSHUO.RecentCommentsWidget('.ds-recent-comments');
    </script>
    <li id="ds-qqt-follow" class="boxed widget ds-widget-qqt-follow">
    <iframe src="http://follow.v.t.qq.com/index.php?c=follow&a=quick&name=denghp_280606790&style=1&t=1352387427769&f=1" frameborder="0" scrolling="auto" width="227" height="75" marginwidth="0" marginheight="0" allowtransparency="true"></iframe>
    </li>
    <li id="ds-recent-visitors-2" class="boxed widget ds-widget-recent-visitors">
    <h3 class="widgettitle">最近访客</h3>
    <ul class="ds-recent-visitors" data-num-items="21" data-show-time="0" data-avatar-size="50"></ul>
    </li>
    <script>
      if (typeof DUOSHUO !== 'undefined')
      DUOSHUO.TopThreads && DUOSHUO.TopThreads('.ds-top-threads');
    </script>
  </ul>
</div>
<!-- /sidebar -->
<div class="cleared"></div>





  

       </div> <!-- /main -->
     </div> <!-- wrapper -->

     <!-- footer -->
     <footer>
<div id="footer">                                          
  <p class="t-center" style='font-size: 10pt;'>
  &copy; 2012 <a href="/">Demi Panda Lab</a>, All Rights Reserved.
  <script src="http://s14.cnzz.com/stat.php?id=4734788&web_id=4734788&show=pic" language="JavaScript"></script>
  </p>
  </div> 
</footer>

 

   </body>
 </html>

